---
source: tests/snapshot_tests.rs
description: "OpenAI API calls from recordings: tests/recordings/sample1.jsonl"
---
Object {
    "requests": Array [
        Object {
            "correlation_id": String("14204c3a-581a-4c17-951c-cbfcd1718143"),
            "operation": String("POST /v1/batches"),
            "request_summary": Object {
                "has_body": Bool(true),
                "method": String("POST"),
                "url_pattern": String("api.openai.com/v1/batches"),
            },
            "sanitized_data": Object {
                "body": String("{\"input_file_id\":\"file-QHK9Xmx8zLueuQukq5B62L\",\"endpoint\":\"/v1/chat/completions\",\"completion_window\":\"24h\",\"metadata\":{\"repo_name\":\"robocop\",\"metadata_schema\":\"1\",\"target_commit\":\"5a1d0c69943dd005a052013db8fd0bc133a6eafa\",\"pull_request_url\":\"https://github.com/Smaug123/robocop/pull/8\",\"version\":\"c031981f\",\"source_commit\":\"e6a8b9636297ffc84c63193d18a38dea197867f3\",\"description\":\"robocop code review tool\",\"branch\":\"cope-with-pr-url\"}}"),
                "headers": Object {
                    "authorization": String("[REDACTED]"),
                    "content-type": String("application/json"),
                },
                "method": String("POST"),
                "url": String("https://api.openai.com/v1/batches"),
            },
            "timestamp": String("2025-10-12T07:37:59.679595+00:00"),
        },
        Object {
            "correlation_id": String("cd298d30-fe77-49cb-a506-f67f9cf549c5"),
            "operation": String("GET /v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            "request_summary": Object {
                "has_body": Bool(true),
                "method": String("GET"),
                "url_pattern": String("api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "sanitized_data": Object {
                "body": String("[NO_BODY]"),
                "headers": Object {
                    "authorization": String("[REDACTED]"),
                    "content-type": String("application/json"),
                },
                "method": String("GET"),
                "url": String("https://api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "timestamp": String("2025-10-12T07:38:37.473901+00:00"),
        },
        Object {
            "correlation_id": String("e9f35baa-37fc-4d14-a8c5-67af5a27254d"),
            "operation": String("GET /v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            "request_summary": Object {
                "has_body": Bool(true),
                "method": String("GET"),
                "url_pattern": String("api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "sanitized_data": Object {
                "body": String("[NO_BODY]"),
                "headers": Object {
                    "authorization": String("[REDACTED]"),
                    "content-type": String("application/json"),
                },
                "method": String("GET"),
                "url": String("https://api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "timestamp": String("2025-10-12T07:39:37.472542+00:00"),
        },
        Object {
            "correlation_id": String("32127334-af13-4bc0-9209-120a86c038c7"),
            "operation": String("GET /v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            "request_summary": Object {
                "has_body": Bool(true),
                "method": String("GET"),
                "url_pattern": String("api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "sanitized_data": Object {
                "body": String("[NO_BODY]"),
                "headers": Object {
                    "authorization": String("[REDACTED]"),
                    "content-type": String("application/json"),
                },
                "method": String("GET"),
                "url": String("https://api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "timestamp": String("2025-10-12T07:40:37.467660+00:00"),
        },
        Object {
            "correlation_id": String("b4b2064d-329f-4dc7-a75c-b770d5492396"),
            "operation": String("GET /v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            "request_summary": Object {
                "has_body": Bool(true),
                "method": String("GET"),
                "url_pattern": String("api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "sanitized_data": Object {
                "body": String("[NO_BODY]"),
                "headers": Object {
                    "authorization": String("[REDACTED]"),
                    "content-type": String("application/json"),
                },
                "method": String("GET"),
                "url": String("https://api.openai.com/v1/batches/batch_68eb5ad7f45881908195fbb16a5d7fdf"),
            },
            "timestamp": String("2025-10-12T07:41:37.467027+00:00"),
        },
        Object {
            "correlation_id": String("2fa4f735-15d1-43d7-b630-57dbd272fb90"),
            "operation": String("GET /v1/files/file-4HBYcxyKe3vaLvisdW2hcG/content"),
            "request_summary": Object {
                "has_body": Bool(true),
                "method": String("GET"),
                "url_pattern": String("api.openai.com/v1/files/file-4HBYcxyKe3vaLvisdW2hcG/content"),
            },
            "sanitized_data": Object {
                "body": String("[NO_BODY]"),
                "headers": Object {
                    "authorization": String("[REDACTED]"),
                },
                "method": String("GET"),
                "url": String("https://api.openai.com/v1/files/file-4HBYcxyKe3vaLvisdW2hcG/content"),
            },
            "timestamp": String("2025-10-12T07:41:37.710093+00:00"),
        },
    ],
    "responses": Array [
        Object {
            "correlation_id": String("14204c3a-581a-4c17-951c-cbfcd1718143"),
            "operation": String("response_200"),
            "response_summary": Object {
                "content_type": String("application/json"),
                "has_body": Bool(false),
                "status_code": Number(200),
            },
            "sanitized_data": Object {
                "body_size": Number(1204),
                "headers": Object {
                    "alt-svc": String("h3=\":443\"; ma=86400"),
                    "cf-cache-status": String("DYNAMIC"),
                    "cf-ray": String("98d4ef647cf31484-LHR"),
                    "connection": String("keep-alive"),
                    "content-length": String("1204"),
                    "content-type": String("application/json"),
                    "date": String("Sun, 12 Oct 2025 07:38:00 GMT"),
                    "openai-organization": String("user-unqgrcghgdmbulnwwgwgiyqb"),
                    "openai-processing-ms": String("380"),
                    "openai-project": String("proj_6wTwiRUWJMtX13kVZHqQWEK0"),
                    "openai-version": String("2020-10-01"),
                    "server": String("cloudflare"),
                    "set-cookie": String("_cfuvid=VxKzUdrleFs5O6mCsSsIFdiWTVQDF4Fw7EQ.5ZGcqR4-1760254680314-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None"),
                    "strict-transport-security": String("max-age=31536000; includeSubDomains; preload"),
                    "x-content-type-options": String("nosniff"),
                    "x-envoy-upstream-service-time": String("382"),
                    "x-openai-proxy-wasm": String("v0.1"),
                    "x-request-id": String("req_134804a9178948548b0ab83e4fb3b494"),
                },
                "status_code": Number(200),
            },
            "timestamp": String("2025-10-12T07:38:00.369193+00:00"),
        },
        Object {
            "correlation_id": String("cd298d30-fe77-49cb-a506-f67f9cf549c5"),
            "operation": String("response_200"),
            "response_summary": Object {
                "content_type": String("application/json"),
                "has_body": Bool(false),
                "status_code": Number(200),
            },
            "sanitized_data": Object {
                "body_size": Number(1204),
                "headers": Object {
                    "alt-svc": String("h3=\":443\"; ma=86400"),
                    "cf-cache-status": String("DYNAMIC"),
                    "cf-ray": String("98d4f05078411484-LHR"),
                    "connection": String("keep-alive"),
                    "content-length": String("1204"),
                    "content-type": String("application/json"),
                    "date": String("Sun, 12 Oct 2025 07:38:37 GMT"),
                    "openai-organization": String("user-unqgrcghgdmbulnwwgwgiyqb"),
                    "openai-processing-ms": String("27"),
                    "openai-project": String("proj_6wTwiRUWJMtX13kVZHqQWEK0"),
                    "openai-version": String("2020-10-01"),
                    "server": String("cloudflare"),
                    "set-cookie": String("_cfuvid=aVxpxg.HAVczlwtEY13DoCALoEpz2vIEr8EWBFSMKyY-1760254717696-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None"),
                    "strict-transport-security": String("max-age=31536000; includeSubDomains; preload"),
                    "x-content-type-options": String("nosniff"),
                    "x-envoy-upstream-service-time": String("29"),
                    "x-openai-proxy-wasm": String("v0.1"),
                    "x-request-id": String("req_5f4d30dfe9de49b3bb0bf83639a5b4de"),
                },
                "status_code": Number(200),
            },
            "timestamp": String("2025-10-12T07:38:37.662220+00:00"),
        },
        Object {
            "correlation_id": String("e9f35baa-37fc-4d14-a8c5-67af5a27254d"),
            "operation": String("response_200"),
            "response_summary": Object {
                "content_type": String("application/json"),
                "has_body": Bool(false),
                "status_code": Number(200),
            },
            "sanitized_data": Object {
                "body_size": Number(1225),
                "headers": Object {
                    "alt-svc": String("h3=\":443\"; ma=86400"),
                    "cf-cache-status": String("DYNAMIC"),
                    "cf-ray": String("98d4f1c789941484-LHR"),
                    "connection": String("keep-alive"),
                    "content-length": String("1225"),
                    "content-type": String("application/json"),
                    "date": String("Sun, 12 Oct 2025 07:39:37 GMT"),
                    "openai-organization": String("user-unqgrcghgdmbulnwwgwgiyqb"),
                    "openai-processing-ms": String("28"),
                    "openai-project": String("proj_6wTwiRUWJMtX13kVZHqQWEK0"),
                    "openai-version": String("2020-10-01"),
                    "server": String("cloudflare"),
                    "set-cookie": String("_cfuvid=suaidMw6.pCkblIft0NSJ_AcGLHGBppKhT02AQZ0R7U-1760254777701-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None"),
                    "strict-transport-security": String("max-age=31536000; includeSubDomains; preload"),
                    "x-content-type-options": String("nosniff"),
                    "x-envoy-upstream-service-time": String("30"),
                    "x-openai-proxy-wasm": String("v0.1"),
                    "x-request-id": String("req_da6214da0b374b3c8d34db8c33803a81"),
                },
                "status_code": Number(200),
            },
            "timestamp": String("2025-10-12T07:39:37.666911+00:00"),
        },
        Object {
            "correlation_id": String("32127334-af13-4bc0-9209-120a86c038c7"),
            "operation": String("response_200"),
            "response_summary": Object {
                "content_type": String("application/json"),
                "has_body": Bool(false),
                "status_code": Number(200),
            },
            "sanitized_data": Object {
                "body_size": Number(1225),
                "headers": Object {
                    "alt-svc": String("h3=\":443\"; ma=86400"),
                    "cf-cache-status": String("DYNAMIC"),
                    "cf-ray": String("98d4f33e8d601484-LHR"),
                    "connection": String("keep-alive"),
                    "content-length": String("1225"),
                    "content-type": String("application/json"),
                    "date": String("Sun, 12 Oct 2025 07:40:37 GMT"),
                    "openai-organization": String("user-unqgrcghgdmbulnwwgwgiyqb"),
                    "openai-processing-ms": String("25"),
                    "openai-project": String("proj_6wTwiRUWJMtX13kVZHqQWEK0"),
                    "openai-version": String("2020-10-01"),
                    "server": String("cloudflare"),
                    "set-cookie": String("_cfuvid=w9XHnLpDCZRwm.LGc9bNJwqiHdvHsvg8DtSu.A_zI3U-1760254837706-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None"),
                    "strict-transport-security": String("max-age=31536000; includeSubDomains; preload"),
                    "x-content-type-options": String("nosniff"),
                    "x-envoy-upstream-service-time": String("27"),
                    "x-openai-proxy-wasm": String("v0.1"),
                    "x-request-id": String("req_b236651ef0294835b880f1f58dcf881a"),
                },
                "status_code": Number(200),
            },
            "timestamp": String("2025-10-12T07:40:37.666985+00:00"),
        },
        Object {
            "correlation_id": String("b4b2064d-329f-4dc7-a75c-b770d5492396"),
            "operation": String("response_200"),
            "response_summary": Object {
                "content_type": String("application/json"),
                "has_body": Bool(false),
                "status_code": Number(200),
            },
            "sanitized_data": Object {
                "body_size": Number(1274),
                "headers": Object {
                    "alt-svc": String("h3=\":443\"; ma=86400"),
                    "cf-cache-status": String("DYNAMIC"),
                    "cf-ray": String("98d4f4b59f951484-LHR"),
                    "connection": String("keep-alive"),
                    "content-length": String("1274"),
                    "content-type": String("application/json"),
                    "date": String("Sun, 12 Oct 2025 07:41:37 GMT"),
                    "openai-organization": String("user-unqgrcghgdmbulnwwgwgiyqb"),
                    "openai-processing-ms": String("43"),
                    "openai-project": String("proj_6wTwiRUWJMtX13kVZHqQWEK0"),
                    "openai-version": String("2020-10-01"),
                    "server": String("cloudflare"),
                    "set-cookie": String("_cfuvid=X3JdXRRPZ_.v35fS9tC8HO0MyllKDhawSJfJ8wEGZAY-1760254897750-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None"),
                    "strict-transport-security": String("max-age=31536000; includeSubDomains; preload"),
                    "x-content-type-options": String("nosniff"),
                    "x-envoy-upstream-service-time": String("70"),
                    "x-openai-proxy-wasm": String("v0.1"),
                    "x-request-id": String("req_eea5ea284d384000bb138c78a9d5c9ef"),
                },
                "status_code": Number(200),
            },
            "timestamp": String("2025-10-12T07:41:37.709843+00:00"),
        },
        Object {
            "correlation_id": String("2fa4f735-15d1-43d7-b630-57dbd272fb90"),
            "operation": String("response_200"),
            "response_summary": Object {
                "content_type": String("application/octet-stream"),
                "has_body": Bool(false),
                "status_code": Number(200),
            },
            "sanitized_data": Object {
                "body_size": Number(3189),
                "headers": Object {
                    "access-control-allow-origin": String("*"),
                    "alt-svc": String("h3=\":443\"; ma=86400"),
                    "cf-cache-status": String("DYNAMIC"),
                    "cf-ray": String("98d4f4b70a4f1484-LHR"),
                    "connection": String("keep-alive"),
                    "content-disposition": String("attachment; filename=\"batch_68eb5ad7f45881908195fbb16a5d7fdf_output.jsonl\""),
                    "content-length": String("3189"),
                    "content-type": String("application/octet-stream"),
                    "date": String("Sun, 12 Oct 2025 07:41:38 GMT"),
                    "openai-organization": String("user-unqgrcghgdmbulnwwgwgiyqb"),
                    "openai-processing-ms": String("95"),
                    "openai-project": String("proj_6wTwiRUWJMtX13kVZHqQWEK0"),
                    "openai-version": String("2020-10-01"),
                    "server": String("cloudflare"),
                    "set-cookie": String("_cfuvid=Wer8tavSD_e8dFKPb6N28A7Qg8kONrRPWz7VcWTlPdY-1760254898016-0.0.1.1-604800000; path=/; domain=.api.openai.com; HttpOnly; Secure; SameSite=None"),
                    "strict-transport-security": String("max-age=31536000; includeSubDomains; preload"),
                    "x-content-type-options": String("nosniff"),
                    "x-envoy-upstream-service-time": String("103"),
                    "x-openai-proxy-wasm": String("v0.1"),
                    "x-request-id": String("req_03e1779bcd3b7fdab61181c1d31957f7"),
                },
                "status_code": Number(200),
            },
            "timestamp": String("2025-10-12T07:41:37.975837+00:00"),
        },
    ],
    "service": String("OpenAI"),
    "source": String("tests/recordings/sample1.jsonl"),
    "total_requests": Number(6),
    "total_responses": Number(6),
}
